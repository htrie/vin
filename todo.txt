use std::min/max/clamp
